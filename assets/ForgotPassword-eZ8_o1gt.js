import{r as s,c as h,j as e,I as p,B as j,N,d as b}from"./index-DqlBNZ2l.js";import{C as S,a as w,b as k,c as y}from"./card-DgB0kVCu.js";import{o as C,c as E,a as F}from"./yup-rhJlH3le.js";const M=E({email:F().email("email không hợp lệ").required("Email là bắt buộc")});function q(){const[i,a]=s.useState(!1),[m,t]=s.useState(!1),[n,r]=s.useState(!1),{register:d,handleSubmit:u,watch:x,formState:{errors:c}}=h({resolver:C(M)}),f=x("email");s.useEffect(()=>{a(!1),t(!1)},[f]);const g=async o=>{a(!1),t(!1),r(!0);try{const l=await b(o.email);console.log(l),localStorage.setItem("email",o.email),a(!0)}catch(l){console.log(l),t(!0)}finally{r(!1)}};return e.jsxs(S,{className:"w-full max-w-sm m-auto",children:[e.jsx(w,{children:e.jsx(k,{className:"m-auto",children:"Forgot password"})}),e.jsxs("form",{className:"flex flex-col items-center gap-2",onSubmit:u(g),children:[e.jsx("div",{className:"flex flex-col w-[80%] m-auto gap-2",children:e.jsx(p,{autoComplete:"email",type:"text",placeholder:"Email",...d("email",{required:!0})})}),c.email&&e.jsx("span",{className:"text-red-500 text-sm",children:c.email.message}),i&&e.jsx("span",{className:"text-sm text-green-500",children:"Liên kết đặt lại mật khẩu đã được gửi tới email của bạn"}),m&&e.jsx("span",{className:"text-sm text-red-500",children:"Email này chưa được đăng ký"}),e.jsx(j,{disabled:n,className:"block",type:"submit",children:"Đồng ý"})]}),e.jsx(y,{className:" flex flex-col",children:e.jsx(N,{className:"",to:"/login",children:"Đã có tài khoản"})})]})}export{q as default};
