import{a as d,e as h,r as a,j as e,B as f,L as u,p as g}from"./index-Dtuzz_vv.js";import{C as j,a as p,b as y}from"./card-DogHRojM.js";function v(){const n=d(),[i]=h(),[t,r]=a.useState(!1),[l,c]=a.useState(!1),[o,m]=a.useState(!1),x=i.get("token");return a.useEffect(()=>{(async()=>{r(!0),c(!1);try{const s=await g(x);console.log(s),setTimeout(()=>{n("/login",{state:{verified:!0}})},5e3),m(s.success)}catch(s){console.log(s),c(!0)}finally{r(!1)}})()},[]),e.jsxs(j,{className:"w-full max-w-sm m-auto",children:[e.jsx(p,{children:e.jsx(y,{className:"m-auto",children:"Xác thực Email"})}),e.jsxs("div",{className:"w-[80%] m-auto gap-2 text-center",children:[t&&e.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[e.jsx("p",{children:"Đang xác minh..."}),e.jsx("i",{className:"fa-solid fa-spinner animate-spin text-gray-400"})]}),!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 items-center justify-center mb-2",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Xác thực thành công"}),e.jsx("i",{class:"fa-solid fa-check text-green-500"})]}),l&&e.jsx("span",{className:"text-sm text-red-500",children:"Liên kết đã hết hạn hoặc không hợp lệ"})]}),e.jsx(f,{children:e.jsx(u,{to:"/login",children:"Login"})})]})]})]})}export{v as default};
